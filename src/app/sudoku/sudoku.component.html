<app-controls 
[notesMode]="notesMode"
[canUndo]="canUndo()"
[disabled]="!isGameActive()"
(resetGame)="resetGame()"
(newGame)="onNewGame($event)"
(toggleNotesMode)="toggleNotesMode()"
(resetNotes)="resetNotes()"
(hint)="provideHint()"
(undo)="undo()">
</app-controls>

<div class="difficulty-display" >
  <i class="fas fa-layer-group"></i>
  <span class="difficulty-label">Difficulty:</span>
  <span  class="difficulty-value" >{{ getCurrentDifficulty() }}</span>
</div>

<div class="mistake-display" [class.warning]="getMistakeCount() >= 2" [class.danger]="getMistakeCount() >= 3">
  <i class="fas fa-exclamation-triangle"></i>
  <span class="mistake-label">Mistakes:</span>
  <span class="mistake-value">{{ getMistakeCount() }}/3</span>
</div>

<div class="score-display">
  <i class="fas fa-star"></i>
  <span class="score-label">Score:</span>
  <span class="score-value">{{ getCurrentScore() }}</span>
</div>

<app-timer
  [isGameActive]="isGameActive()"
  [isGamePaused]="isGamePaused"
  [isGameCompleted]="hasWonGame()"
  (timerUpdate)="onTimerUpdate($event)"
  (pauseStateChange)="onPauseStateChange($event)">
</app-timer>

<div class="game-over-message" *ngIf="isGameOver()">
  <i class="fas fa-times-circle"></i>
  <span class="game-over-text">Game Over! Too many mistakes.</span>
</div>

<!-- Congratulations Modal -->
<app-congratulations-modal
  [isVisible]="showCongratulationsModal"
  [gameData]="gameCompletionData"
  (newGame)="onNewGameFromModal($event)"
  (closeModal)="onCloseCongratulationsModal()">
</app-congratulations-modal>


<div class="sudoku-container" #sudokuContainer>
  
      
   
      <div class="game-content">
        
        <app-board
          [boxes]="boxes"
          [selectedBoxIndex]="selectedBoxIndex"
          [selectedCellIndex]="selectedCellIndex"
          [currentNumber]="currentNumber"
          [disabled]="!isGameActive()"
          (cellSelected)="onCellSelected($event)">
        </app-board>
        <app-number-pad
        [currentNumber]="currentNumber"
        [disabled]="!isGameActive()"
        (numberClick)="onNumberPadClick($event)">
        </app-number-pad>
       
  </div>

</div>
